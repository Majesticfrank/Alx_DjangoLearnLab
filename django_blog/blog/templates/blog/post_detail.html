{% extends 'base.html' %}
{% load static %}

{% block title %}{{ object.title }}{% endblock %}

{% block content %}
<div class="post-container">
    <h1>{{ object.title }}</h1>
    <div class="meta">
        Posted by <strong>{{ object.author }}</strong> on {{ object.date_posted|date:"F d, Y" }}
    </div>
    <p>{{ object.content }}</p>

    <div class="post-actions">
        <a href="{% url 'listblogPost' %}" class="btn">← Back to all posts</a>
        <a href="{% url 'update-post' object.pk %}" class="btn">✎ Edit</a>
        <a href="{% url 'delete-post' object.pk %}" class="btn delete">🗑 Delete</a>
    </div>
</div>

<!-- <h2>{{ post.title }}</h2>
<p>{{ post.content }}</p> -->
{% include 'blog/comment_list.html' with post=post %}

<hr>

{% if user.is_authenticated %}
  <h4>Leave a comment</h4>
  <form action="{% url 'add-comment' post.id %}" method="post">
    {% csrf_token %}
    {{ comment_form.as_p }}
    <button type="submit" class="btn">Post comment</button>
  </form>
{% else %}
  <p><a href="{% url 'login' %}?next={{ request.path }}">Log in</a> to leave a comment.</p>
{% endif %}


{% endblock %}

